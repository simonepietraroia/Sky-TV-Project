{% extends 'DevSign_Vote/base.html' %}
{% load static %}

{% block title %}Select a Session{% endblock %}

{% block content %}
<div class="container mt-5">
  <h2 class="text-center mb-4">Choose Your Healthâ€‘Check Session</h2>

  <!-- FILTERS -->
  <div class="row mb-5">
    <div class="col-sm-6 col-md-4 mb-3">
      <label for="departmentSelect" class="form-label">Department</label>
      <select id="departmentSelect" class="form-control">
        <option value="">All Departments</option>
        {% for dept in departments %}
          <option value="{{ dept.id }}">{{ dept.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-sm-6 col-md-4 mb-3">
      <label for="teamSelect" class="form-label">Team</label>
      <select id="teamSelect" class="form-control">
        <option value="">All Teams</option>
        {% for team in teams %}
          <option value="{{ team.id }}" data-dept="{{ team.department.id }}">
            {{ team.name }}
          </option>
        {% endfor %}
      </select>
    </div>
  </div>

  <!-- SESSIONS GRID -->
  <div id="sessionsContainer" class="sessions-grid">
    {% for session in sessions %}
      <div
        class="session-card"
        data-dept="{{ session.team.department.id }}"
        data-team="{{ session.team.id }}"
      >
        <h5 class="session-title">{{ session.title }}</h5>
        <p class="session-meta">
          <strong>Dept:</strong> {{ session.team.department.name }}<br>
          <strong>Team:</strong> {{ session.team.name }}<br>
          <strong>When:</strong> {{ session.scheduled_date|date:"M d, Y H:i" }}
        </p>
        <a href="{% url 'vote-session' session.id %}" class="btn btn-session">
          Select &rarr;
        </a>
      </div>
    {% endfor %}
  </div>
</div>
{% endblock %}

{% block extra_js %}